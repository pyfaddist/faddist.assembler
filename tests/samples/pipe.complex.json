{
  "include": [
    "./definitions.json"
  ],
  "variables": [
    {
      "name": "bucket",
      "__type__": "list"
    }
  ],
  "iterator": {
    "__alias__": "db_reader",
    "arguments": [
      "$var:engine",
      "SELECT * FROM Orders"
    ]
  },
  "pipe": [
    {
      "__alias__": "session",
      "arguments": "$var:engine"
    },
    {
      "__alias__": "select_first",
      "arguments": [
        "$var:engine",
        "EmployeeID",
        "Employee",
        "Employees"
      ]
    },
    {
      "__alias__": "select_first",
      "arguments": [
        "$var:engine",
        "Employee.ReportsTo",
        "Employee.ReportsTo",
        "Employees"
      ]
    }
  ],
  "observer": "$lambda x: bucket.append(x)"
}
